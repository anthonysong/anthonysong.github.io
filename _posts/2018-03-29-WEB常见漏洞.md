---
layout: default
title: 常见WEB漏洞
date: 2018-03-29
categories: WEB安全
tags: [WEB安全,漏洞利用]
description: 常见的WEB漏洞有SQL注入，XSS，CSRF，文件上传等
---

### XSS
跨站脚本攻击，原理是向WEB页面插入恶意代码，当用户浏览该页面时，嵌入页面的恶意Script代码会被执行，造成广告植入、页面跳转、cookie泄露等。

#### XSS的攻击方式
* 反射型：发出请求时，XSS代码在URL中，作为输入提交到服务器端，服务器解析后响应，XSS随响应内容一起发送给浏览器，浏览器执行XSS代码。
* 存储型：通过填写网站可输入区域嵌入XSS代码，存储在服务器端，每一次浏览被修改页面都会触发XSS代码执行。

#### XSS的防御措施
对用户输入进行编码，过滤特殊字符< > ' " &和关键字script style iframe onerror onclick等

### CSRF
跨站请求伪造，通过伪造一个受信任站点的POST请求，执行需要用户授权的行为。

典型的情形是：ROB正在使用浏览器进行网上银行操作，同时另一个页面在浏览一个论坛。这时HAK发送了一张图片，这张图片的src是网银的转账请求。当ROB浏览这张图片时，就会在不知不觉中浏览器已经向网银网站发送了一次转账请求。由于ROB正在使用网银，浏览器中有此次登陆的cookie，这次转账请求就会被认为是正当操作。

可以看到执行CSRF攻击需要一些巧合，如果被攻击者此时没有使用网银，或者浏览器中没有合法有效的cookie，那CSRF攻击就不能进行。

#### CSRF防御办法
* 对refer进行验证，只有来自本站的请求才能通过。
* 在用户请求时加入token来验证是否是来自该用户的操作。
* 在form中加入hiden field，添加token，用来验证POST的数据的确来自之前被请求的页面。
* 在HTTP header中自定义属性，把token加入进去。

总体的思路还是加入除了cookie之外的其他验证手段。

### SQL注入

